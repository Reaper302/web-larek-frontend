# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание классов

**Model**

Класс `Product` представляет продукт в магазине. Он содержит информацию о продукте, такую как идентификатор, описание, изображение, название, категория и цена. Предоставляет метод для получения детальной информации о продукте.

- **Свойства:**
  - `id`: Уникальный идентификатор продукта.
  - `description`: Описание продукта.
  - `image`: Ссылка на изображение продукта.
  - `title`: Название продукта.
  - `category`: Категория продукта.
  - `price`: Цена продукта, может быть `null`.

- **Методы:**
  - `getInfo()`: Возвращает строку с подробной информацией о продукте.

Класс `ProductListResponse` используется для хранения ответа от API, который включает список продуктов и общее количество продуктов. Предоставляет метод для получения общего количества продуктов.

- **Свойства:**
  - `total`: Общее количество продуктов в списке.
  - `items`: Список продуктов.

- **Методы:**
  - `getTotal()`: Возвращает общее количество продуктов.

Класс `ProductItemResponse` представляет ответ от API с данными одного продукта. Хранит объект продукта и предоставляет метод для получения продукта из ответа.

- **Свойства:**
  - `product`: Объект продукта.

- **Методы:**
  - `getProduct()`: Возвращает объект продукта

Класс `Order` представляет заказ в магазине. Он включает информацию о способе оплаты, контактных данных клиента, адресе доставки, общей стоимости и списке продуктов. Предоставляет метод для получения общей стоимости заказа.

- **Свойства:**
  - `payment`: Метод оплаты заказа (онлайн или офлайн).
  - `email`: Электронная почта клиента.
  - `phone`: Телефон клиента.
  - `address`: Адрес доставки.
  - `total`: Общая стоимость заказа.
  - `items`: Список идентификаторов продуктов в заказе.

- **Методы:**
  - `getTotalAmount()`: Возвращает общую стоимость заказа.


Класс `OrderSuccessResponse` представляет успешный ответ от API на создание заказа. Хранит идентификатор заказа и общую стоимость. Предоставляет методы для получения соответствующих данных.

- **Свойства:**
  - `id`: Идентификатор созданного заказа.
  - `total`: Общая стоимость заказа.

- **Методы:**
  - `getOrderId()`: Возвращает идентификатор заказа.
  - `getTotalAmount()`: Возвращает общую стоимость заказа.

Класс `OrderErrorResponse` представляет ошибку ответа от API на создание заказа. Хранит сообщение об ошибке и предоставляет метод для получения этого сообщения.

- **Свойства:**
  - `error`: Сообщение об ошибке при создании заказа.

- **Методы:**
  - `getError()`: Возвращает сообщение об ошибке.

 **View**

Класс `ProductCard` представляет карточку продукта. Он используется для отображения информации о продукте в виде карточки.

**Свойства:**
product: Объект продукта.
**Методы:**
render(): Отображает карточку продукта.

Класс `ProductList` представляет список продуктов. Он используется для отображения списка продуктов.

**Свойства:**
products: Список продуктов.
**Методы:**
render(): Отображает список продуктов.
onProductClick(callback: (product: Product) => void): Устанавливает обработчик клика на продукт.

Класс `ProductDetail` представляет детальную информацию о продукте. Он используется для отображения подробной информации о конкретном продукте.

**Свойства:**
product: Объект продукта.
**Методы:**
render(): Отображает подробную информацию о продукте.
onAddToCartClick(callback: () => void): Устанавливает обработчик клика для добавления продукта в корзину.

Класс `Cart` представляет корзину покупок. Он используется для отображения товаров в корзине.

**Свойства:**
items: Список товаров в корзине.
**Методы:**
render(): Отображает корзину покупок.
onCheckoutClick(callback: () => void): Устанавливает обработчик клика для оформления заказа.

Класс `CheckoutForm` представляет форму оформления заказа. Он используется для ввода данных заказа.

**Свойства:**
formData: Данные формы заказа.
**Методы:**
render(): Отображает форму оформления заказа.
onSubmit(callback: (order: Order) => void): Устанавливает обработчик отправки формы.

**Controller**

Класс `ProductListController` контролирует взаимодействие между представлением списка продуктов и моделью списка продуктов.

**Свойства:**
view: Представление списка продуктов.
model: Модель списка продуктов.
**Методы:**
init(): Инициализирует контроллер, вызывая метод отображения представления и устанавливая обработчик клика на продукт.
onProductClick(product: Product): Обрабатывает клик на продукт, инициируя отображение подробной информации о продукте.

Класс `ProductDetailController` контролирует взаимодействие между представлением деталей продукта и моделью продукта.

**Свойства:**
view: Представление деталей продукта.
model: Модель продукта.
**Методы:**
init(): Инициализирует контроллер, вызывая метод отображения представления и устанавливая обработчик клика для добавления продукта в корзину.
onAddToCartClick(): Обрабатывает клик для добавления продукта в корзину, обновляя модель корзины и отображение корзины.

Класс `CartController` контролирует взаимодействие между представлением корзины и моделью заказа.

**Свойства:**
view: Представление корзины.
model: Модель заказа.
**Методы:**
init(): Инициализирует контроллер, вызывая метод отображения представления и устанавливая обработчик клика для оформления заказа.
onCheckoutClick(): Обрабатывает клик для оформления заказа, инициируя отображение формы оформления заказа.

Класс `CheckoutController` контролирует взаимодействие между представлением формы оформления заказа и моделью заказа.

**Свойства:**
view: Представление формы оформления заказа.
model: Модель заказа.
**Методы:**
init(): Инициализирует контроллер, вызывая метод отображения представления и устанавливая обработчик отправки формы.
onSubmit(order: Order): Обрабатывает отправку формы заказа, отправляя данные заказа на сервер и обрабатывая ответ.

**Описание взаимодействия MVC:**

Если пользователь кликает на карточку продукта (ProductCard - View), то в ProductCard вызывается обработчик клика, который вызывает метод контроллера onProductClick (Controller: ProductListController), ProductListController обращается к модели ProductListResponse для получения данных о продукте.
ProductListResponse возвращает данные о продукте контроллеру.
ProductListController передает данные о продукте в представление ProductDetail.
ProductDetail отображает данные о продукте в модальном окне.





